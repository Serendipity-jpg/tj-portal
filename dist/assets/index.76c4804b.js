import{_ as y,u as R,a as S,r as b,b as x,c as m,o as v,d as h,e,w as u,f as s,p as $,g as U,H as q,n as V,h as k,i as w,F as B}from"./index.3ba86d97.js";import{i as C}from"./request.36131966.js";const F=o=>C({url:"/accounts/login",method:"post",data:o}),z=o=>C({url:"/users/me",method:"get",params:o});const I=o=>($("data-v-710c0eb2"),o=o(),U(),o),D={class:"loginPass"},H={class:"fx-sb"},T=I(()=>s("div",null,"\u627E\u56DE\u5BC6\u7801",-1)),j=I(()=>s("div",{class:"font-bt text-center"}," \u53BB\u6CE8\u518C ",-1)),W={__name:"LoginPass",setup(o){const r=R(),d=S(),p=b(),c=b(!1),t=x({username:"jack",password:"123",type:1}),l=x({username:[{required:!0,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u7528\u6237\u540D",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u7528\u5BC6\u7801",trigger:"blur"}]}),g=i=>{!i||i.validate(async n=>{if(n)await F(t).then(async _=>{if(_.code==200){r.setToken(_.data);const a=await z();a.code==200&&(r.setUserInfo(a.data),d.push("/main/index"))}else console.log("\u767B\u5F55\u5931\u8D25")}).catch(_=>{});else return console.log("error submit!"),!1})};return(i,n)=>{const _=m("el-input"),a=m("el-form-item"),P=m("el-checkbox"),N=m("el-form");return v(),h("div",D,[e(N,{ref_key:"formRef",ref:p,model:t,rules:l,"label-width":"0px",class:"demo-dynamic"},{default:u(()=>[e(a,{prop:"username",label:""},{default:u(()=>[e(_,{modelValue:t.username,"onUpdate:modelValue":n[0]||(n[0]=f=>t.username=f),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["modelValue"])]),_:1}),e(a,{prop:"password",label:""},{default:u(()=>[e(_,{type:"pass","show-password":!0,modelValue:t.password,"onUpdate:modelValue":n[1]||(n[1]=f=>t.password=f),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),e(a,{class:"marg-b-10"},{default:u(()=>[s("div",H,[s("div",null,[e(P,{modelValue:c.value,"onUpdate:modelValue":n[2]||(n[2]=f=>c.value=f),label:"7\u5929\u514D\u767B\u5F55",size:"large"},null,8,["modelValue"])]),T])]),_:1}),e(a,{class:"marg-bt-15"},{default:u(()=>[s("div",{class:"bt",onClick:n[3]||(n[3]=f=>g(p.value))},"\u767B \u5F55")]),_:1})]),_:1},8,["model","rules"]),j])}}};var A=y(W,[["__scopeId","data-v-710c0eb2"]]);const L=o=>($("data-v-2a64ded2"),o=o(),U(),o),G={class:"loginPhone"},J={class:"fx-sb"},K=L(()=>s("div",null,"\u627E\u56DE\u5BC6\u7801",-1)),M=L(()=>s("div",{class:"font-bt text-center"}," \u53BB\u6CE8\u518C ",-1)),O={__name:"LoginPhone",setup(o){const r=b(),d=x({username:"13500010003",password:"123"}),p=x({userName:[{required:!0,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u7528\u9A8C\u8BC1\u7801",trigger:"blur"}]}),c=t=>{!t||t.validate(l=>{if(l)console.log("submit!");else return console.log("error submit!"),!1})};return(t,l)=>{const g=m("el-input"),i=m("el-form-item"),n=m("el-checkbox"),_=m("el-form");return v(),h("div",G,[e(_,{ref_key:"formRef",ref:r,model:d,rules:p,"label-width":"0px",class:"demo-dynamic"},{default:u(()=>[e(i,{prop:"userName",label:""},{default:u(()=>[e(g,{modelValue:d.userName,"onUpdate:modelValue":l[0]||(l[0]=a=>d.userName=a),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"},null,8,["modelValue"])]),_:1}),e(i,{prop:"password",label:""},{default:u(()=>[e(g,{type:"pass",modelValue:d.password,"onUpdate:modelValue":l[1]||(l[1]=a=>d.password=a),placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"},null,8,["modelValue"])]),_:1}),e(i,{class:"marg-b-10"},{default:u(()=>[s("div",J,[s("div",null,[e(n,{modelValue:t.checked1,"onUpdate:modelValue":l[2]||(l[2]=a=>t.checked1=a),label:"7\u5929\u514D\u767B\u5F55",size:"large"},null,8,["modelValue"])]),K])]),_:1}),e(i,{class:"marg-bt-15"},{default:u(()=>[s("div",{class:"bt",onClick:l[3]||(l[3]=a=>c(r.value))},"\u767B \u5F55")]),_:1})]),_:1},8,["model","rules"]),M])}}};var Q=y(O,[["__scopeId","data-v-2a64ded2"]]);const X={class:"loginWrapper fx-fd-col fx-sb"},Y={class:"fx-1 fx-al-ct"},Z={class:"login"},E={class:"title"},oe={__name:"index",setup(o){const r=b("pass"),d=p=>{r.value=p};return(p,c)=>(v(),h("div",X,[e(q),s("div",Y,[s("div",Z,[s("div",E,[s("span",{onClick:c[0]||(c[0]=t=>d("pass")),class:V(r.value=="pass"?"fx-1 active":"fx-1")},"\u8D26\u53F7\u767B\u5F55",2),s("span",{onClick:c[1]||(c[1]=t=>d("phone")),class:V(r.value=="phone"?"fx-1 active":"fx-1")},"\u77ED\u4FE1\u767B\u5F55",2)]),r.value=="pass"?(v(),k(A,{key:0})):w("",!0),r.value=="phone"?(v(),k(Q,{key:1})):w("",!0)])]),e(B)]))}};export{oe as default};
